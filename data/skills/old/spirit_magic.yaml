# ========================================
# data/skills/base/spirit_magic.yaml
# 精神系法术基础模板
# ========================================
spirit_magic:
  # === 基础分类 ===
  type: "active"                           # active(主动), passive(被动)
  category: "magic"                        # magic(魔法), combat(战技), support(辅助)
  element: "spirit"                        # spirit(精神), fire(火), ice(冰), blood(血)
  
  # === 战斗参数 ===
  range: "ranged"                          # melee(近战), ranged(远程)
  hit_type: "magical"                      # physical(物理), magical(魔法)
  target_type: "single"                    # single(单体), aoe(群体), self(自身)
  
  # === 等级成长公式 ===
  level_formula:
    max_level: 200                         # 最高等级
    
    # 伤害计算：base * (1 + grow)^level
    damage:
      base: 30                             # 基础伤害
      grow: 0.03                           # 每级成长3%
    
    # 命中率：base + (level * 0.001)，上限0.95
    accuracy:
      base: 0.75
      per_level: 0.001
      max: 0.95
    
    # 施法时间：base - (level * 0.02)，下限1秒
    cast_time:
      base: 5.0
      per_level: -0.02
      min: 1.0
    
    # 冷却时间：base - (level * 0.02)，下限1回合
    cooldown:
      base: 5
      per_level: -0.02
      min: 1
    
    # 灵力消耗：base + (level * 0.5)，上限200
    cost_qi:
      base: 20
      per_level: 0.5
      max: 200
    
    # 反击触发率：base + (level * 0.0005)
    counter_chance:
      base: 0.03
      per_level: 0.0005
  
  # === 反击参数 ===
  counter_weight: 3                        # 作为反击技能的权重
  
  # === 属性加成 ===
  stat_scaling:
    intelligence: 1.0                      # 智力 * 1.0 加成伤害
    agility: 0.5                           # 敏捷 * 0.5 加成命中
  
  # === 默认战斗文本 ===
  battle_text:
    cast:
      - text: "{caster}凝聚精神力..."
        delay_percent: 0
      - text: "空气中弥漫着魔法的波动！"
        delay_percent: 50
    
    hit:
      - text: "精神冲击命中{target}！"
        delay_percent: 70
      - text: "造成伤害{damage}！"
        delay_percent: 100
    
    dodge:
      - text: "{target}察觉到危险，闪开了攻击！"
        delay_percent: 100
    
    critical:
      - text: "暴击！精神冲击撕裂{target}的意识！"
        delay_percent: 70
      - text: "造成伤害{damage}！"
        delay_percent: 100
    
    counter_cast:
      - text: "{caster}趁机反击！"
        delay_percent: 0
    
    counter_hit:
      - text: "反击命中{target}！造成伤害{damage}！"
        delay_percent: 100
  
  # === 学习条件（默认） ===
  required_realm: "练气期"
  required_level: 1




